{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hatef\\\\Desktop\\\\Coding\\\\public-directory\\\\country-data\\\\src\\\\components\\\\CountryVisualization.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport * as d3 from 'd3';\nimport { Box, Typography, Paper, Chip, Grid, Card, CardContent, Tooltip } from '@mui/material';\nimport { TrendingUp as TrendingUpIcon, People as PeopleIcon, Public as PublicIcon } from '@mui/icons-material';\nimport FilterPanel from './FilterPanel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CountryVisualization = ({\n  data\n}) => {\n  _s();\n  const svgRef = useRef();\n  const tooltipRef = useRef();\n  const [width, setWidth] = useState(900);\n  const [height, setHeight] = useState(600);\n  const [isMobile, setIsMobile] = useState(false);\n  const [selectedSystem, setSelectedSystem] = useState('All');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [opacityValue, setOpacityValue] = useState(0.7);\n  const [minGdpFilter, setMinGdpFilter] = useState(0);\n  const [maxGdpFilter, setMaxGdpFilter] = useState(Infinity);\n\n  // Extract unique political systems for filtering\n  const politicalSystems = ['All', ...new Set(data.map(d => d.political_system))];\n\n  // Enhanced colorblind-friendly color palette with better contrast\n  const accessibleColors = ['#2563eb',\n  // Modern blue\n  '#dc2626',\n  // Modern red\n  '#16a34a',\n  // Modern green\n  '#ca8a04',\n  // Modern yellow/gold\n  '#7c3aed',\n  // Modern purple\n  '#ea580c',\n  // Modern orange\n  '#db2777',\n  // Modern pink\n  '#059669',\n  // Modern teal\n  '#4338ca',\n  // Modern indigo\n  '#be123c',\n  // Modern rose\n  '#0891b2',\n  // Modern cyan\n  '#65a30d',\n  // Modern lime\n  '#c2410c',\n  // Modern amber\n  '#9333ea',\n  // Modern violet\n  '#0d9488' // Modern emerald\n  ];\n\n  // Color scale for political systems\n  const colorScale = d3.scaleOrdinal().domain(politicalSystems.filter(d => d !== 'All')).range(accessibleColors);\n  useEffect(() => {\n    // Filter data based on selected political system and search term\n    let filteredData = data;\n\n    // Filter by political system\n    if (selectedSystem !== 'All') {\n      filteredData = filteredData.filter(d => d.political_system === selectedSystem);\n    }\n\n    // Filter by search term\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filteredData = filteredData.filter(d => d.country.toLowerCase().includes(term));\n    }\n\n    // Filter by GDP range\n    filteredData = filteredData.filter(d => d.gdp_per_capita >= minGdpFilter && d.gdp_per_capita <= (maxGdpFilter === Infinity ? d3.max(data, d => d.gdp_per_capita) : maxGdpFilter));\n\n    // Clear previous visualization\n    d3.select(svgRef.current).selectAll('*').remove();\n\n    // Create SVG with responsive margins\n    const margin = {\n      top: 40,\n      right: isMobile ? 20 : 180,\n      bottom: 80,\n      left: isMobile ? 60 : 80\n    };\n    const innerWidth = width - margin.left - margin.right;\n    const innerHeight = height - margin.top - margin.bottom;\n    const svg = d3.select(svgRef.current).attr('width', width).attr('height', height);\n\n    // Add gradient definitions\n    const defs = svg.append('defs');\n\n    // Create a gradient for the background\n    const bgGradient = defs.append('linearGradient').attr('id', 'bgGradient').attr('x1', '0%').attr('x2', '100%').attr('y1', '0%').attr('y2', '100%');\n    bgGradient.append('stop').attr('offset', '0%').attr('stop-color', '#f8fafc').attr('stop-opacity', 0.8);\n    bgGradient.append('stop').attr('offset', '100%').attr('stop-color', '#e2e8f0').attr('stop-opacity', 0.3);\n\n    // Add background\n    svg.append('rect').attr('width', width).attr('height', height).attr('fill', 'url(#bgGradient)').attr('rx', 8);\n\n    // Create main chart group\n    const chartGroup = svg.append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n    // Create scales\n    const xScale = d3.scaleLinear().domain([0, d3.max(data, d => d.economic_freedom) * 1.05]).range([0, innerWidth]);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.gdp_per_capita) * 1.05]).range([innerHeight, 0]);\n    const radiusScale = d3.scaleSqrt().domain([0, d3.max(data, d => d.population)]).range([4, isMobile ? 20 : 30]);\n\n    // Create enhanced axes\n    const xAxis = d3.axisBottom(xScale).tickSize(-innerHeight).tickFormat(d3.format('.1f'));\n    const yAxis = d3.axisLeft(yScale).tickSize(-innerWidth).tickFormat(d => `$${d3.format('.0s')(d)}`);\n\n    // Add grid lines and axes\n    chartGroup.append('g').attr('class', 'x-axis').attr('transform', `translate(0, ${innerHeight})`).call(xAxis).selectAll('line').attr('stroke', '#e2e8f0').attr('stroke-width', 1);\n    chartGroup.append('g').attr('class', 'y-axis').call(yAxis).selectAll('line').attr('stroke', '#e2e8f0').attr('stroke-width', 1);\n\n    // Style axis text\n    svg.selectAll('.x-axis text, .y-axis text').attr('fill', '#64748b').attr('font-size', '12px');\n    svg.selectAll('.x-axis path, .y-axis path').attr('stroke', '#cbd5e1').attr('stroke-width', 2);\n\n    // Add enhanced axis labels\n    chartGroup.append('text').attr('x', innerWidth / 2).attr('y', innerHeight + 50).attr('text-anchor', 'middle').attr('font-size', '14px').attr('font-weight', '600').attr('fill', '#374151').text('Economic Freedom Index');\n    chartGroup.append('text').attr('transform', 'rotate(-90)').attr('x', -innerHeight / 2).attr('y', -50).attr('text-anchor', 'middle').attr('font-size', '14px').attr('font-weight', '600').attr('fill', '#374151').text('GDP Per Capita (USD)');\n\n    // Enhanced tooltip\n    const tooltip = d3.select(tooltipRef.current).style('position', 'absolute').style('visibility', 'hidden').style('background-color', 'rgba(255, 255, 255, 0.98)').style('border', 'none').style('padding', '16px').style('border-radius', '12px').style('box-shadow', '0 10px 25px rgba(0, 0, 0, 0.15)').style('font-family', 'Inter, sans-serif').style('font-size', '13px').style('max-width', '250px').style('backdrop-filter', 'blur(10px)').style('pointer-events', 'none').style('z-index', '1000');\n\n    // Add circles for each country with enhanced styling\n    const circles = chartGroup.selectAll('circle').data(filteredData).enter().append('circle').attr('cx', d => xScale(d.economic_freedom)).attr('cy', d => yScale(d.gdp_per_capita)).attr('r', 0) // Start with 0 for animation\n    .attr('fill', d => colorScale(d.political_system)).attr('opacity', opacityValue).attr('stroke', '#ffffff').attr('stroke-width', 2).style('cursor', 'pointer').style('filter', 'drop-shadow(0 2px 4px rgba(0,0,0,0.1))').on('mouseover', (event, d) => {\n      // Highlight the hovered circle\n      d3.select(event.target).transition().duration(200).attr('stroke-width', 3).attr('opacity', 1).style('filter', 'drop-shadow(0 4px 8px rgba(0,0,0,0.2))');\n      tooltip.style('visibility', 'visible').html(`\n            <div style=\"border-bottom: 2px solid ${colorScale(d.political_system)}; padding-bottom: 8px; margin-bottom: 8px;\">\n              <strong style=\"font-size: 15px; color: #1f2937;\">${d.country}</strong>\n            </div>\n            <div style=\"display: grid; gap: 6px;\">\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"color: #6b7280;\">GDP per capita:</span>\n                <strong style=\"color: #059669;\">$${d.gdp_per_capita.toLocaleString()}</strong>\n              </div>\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"color: #6b7280;\">Population:</span>\n                <strong style=\"color: #2563eb;\">${d.population.toLocaleString()}</strong>\n              </div>\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"color: #6b7280;\">Economic Freedom:</span>\n                <strong style=\"color: #dc2626;\">${d.economic_freedom.toFixed(1)}</strong>\n              </div>\n              <div style=\"margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;\">\n                <span style=\"color: #6b7280;\">Political System:</span><br>\n                <strong style=\"color: ${colorScale(d.political_system)};\">${d.political_system}</strong>\n              </div>\n            </div>\n          `);\n    }).on('mousemove', event => {\n      tooltip.style('top', event.pageY - 10 + 'px').style('left', event.pageX + 15 + 'px');\n    }).on('mouseout', event => {\n      d3.select(event.target).transition().duration(200).attr('stroke-width', 2).attr('opacity', opacityValue).style('filter', 'drop-shadow(0 2px 4px rgba(0,0,0,0.1))');\n      tooltip.style('visibility', 'hidden');\n    });\n\n    // Animate circles\n    circles.transition().duration(800).delay((d, i) => i * 5).attr('r', d => radiusScale(d.population));\n\n    // Add country labels for small datasets or search results\n    if (searchTerm || filteredData.length < 15) {\n      chartGroup.selectAll('text.country-label').data(filteredData).enter().append('text').attr('class', 'country-label').attr('x', d => xScale(d.economic_freedom)).attr('y', d => yScale(d.gdp_per_capita) - radiusScale(d.population) - 8).attr('text-anchor', 'middle').attr('font-size', '11px').attr('font-weight', '500').attr('fill', '#374151').style('pointer-events', 'none').text(d => d.country).style('opacity', 0).transition().duration(1000).delay(500).style('opacity', 0.8);\n    }\n\n    // Enhanced legends positioning\n    if (!isMobile) {\n      // Political Systems Legend\n      const legendGroup = svg.append('g').attr('transform', `translate(${width - 160}, 60)`);\n      legendGroup.append('rect').attr('x', -10).attr('y', -20).attr('width', 150).attr('height', Math.min(politicalSystems.length * 25 + 40, 300)).attr('fill', 'rgba(255, 255, 255, 0.95)').attr('stroke', '#e2e8f0').attr('stroke-width', 1).attr('rx', 8).style('filter', 'drop-shadow(0 2px 8px rgba(0,0,0,0.1))');\n      legendGroup.append('text').attr('x', 0).attr('y', -5).attr('font-weight', '600').attr('font-size', '13px').attr('fill', '#374151').text('Political Systems');\n      const uniqueSystems = [...new Set(data.map(d => d.political_system))].slice(0, 10);\n      uniqueSystems.forEach((system, i) => {\n        const legendRow = legendGroup.append('g').attr('transform', `translate(0, ${i * 25 + 15})`);\n        legendRow.append('circle').attr('cx', 8).attr('cy', 0).attr('r', 8).attr('fill', colorScale(system)).attr('stroke', '#ffffff').attr('stroke-width', 1.5);\n        legendRow.append('text').attr('x', 22).attr('y', 4).attr('text-anchor', 'start').style('font-size', '11px').attr('fill', '#4b5563').text(system.length > 18 ? system.substring(0, 15) + '...' : system);\n      });\n\n      // Population Scale Legend\n      const populationLegend = svg.append('g').attr('transform', `translate(80, ${height - 120})`);\n      populationLegend.append('rect').attr('x', -15).attr('y', -25).attr('width', 130).attr('height', 110).attr('fill', 'rgba(255, 255, 255, 0.95)').attr('stroke', '#e2e8f0').attr('stroke-width', 1).attr('rx', 8).style('filter', 'drop-shadow(0 2px 8px rgba(0,0,0,0.1))');\n      populationLegend.append('text').attr('x', 0).attr('y', -10).attr('font-weight', '600').attr('font-size', '13px').attr('fill', '#374151').text('Population Scale');\n      const populationSizes = [1000000, 50000000, 500000000];\n      const populationLabels = ['1M', '50M', '500M'];\n      populationSizes.forEach((size, i) => {\n        const cy = i * 25 + 10;\n        populationLegend.append('circle').attr('cx', 15).attr('cy', cy).attr('r', radiusScale(size)).attr('fill', 'none').attr('stroke', '#6b7280').attr('stroke-width', 1.5);\n        populationLegend.append('text').attr('x', 35).attr('y', cy + 4).attr('text-anchor', 'start').style('font-size', '11px').attr('fill', '#4b5563').text(populationLabels[i]);\n      });\n    }\n\n    // Add count and statistics\n    const statsGroup = svg.append('g').attr('transform', `translate(${margin.left}, ${height - 30})`);\n    statsGroup.append('text').attr('x', 0).attr('y', 0).attr('font-size', '12px').attr('font-weight', '500').attr('fill', '#6b7280').text(`Showing ${filteredData.length} of ${data.length} countries`);\n    if (filteredData.length > 0) {\n      const avgGdp = d3.mean(filteredData, d => d.gdp_per_capita);\n      const avgFreedom = d3.mean(filteredData, d => d.economic_freedom);\n      statsGroup.append('text').attr('x', 200).attr('y', 0).attr('font-size', '12px').attr('fill', '#6b7280').text(`Avg GDP: $${avgGdp.toLocaleString('en-US', {\n        maximumFractionDigits: 0\n      })} | Avg Freedom: ${avgFreedom.toFixed(1)}`);\n    }\n  }, [data, width, height, selectedSystem, searchTerm, opacityValue, minGdpFilter, maxGdpFilter, colorScale, isMobile]);\n\n  // Handle window resize and mobile detection\n  useEffect(() => {\n    const handleResize = () => {\n      var _svgRef$current;\n      const container = (_svgRef$current = svgRef.current) === null || _svgRef$current === void 0 ? void 0 : _svgRef$current.parentElement;\n      if (container) {\n        const containerWidth = container.clientWidth;\n        const mobile = containerWidth < 768;\n        setIsMobile(mobile);\n\n        // Responsive dimensions\n        const newWidth = Math.min(containerWidth, 1200);\n        const newHeight = mobile ? newWidth * 0.75 : Math.max(newWidth * 0.6, 500);\n        setWidth(newWidth);\n        setHeight(newHeight);\n      }\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  // Calculate statistics\n  const maxGdp = Math.ceil(d3.max(data, d => d.gdp_per_capita) / 10000) * 10000;\n  const totalCountries = data.length;\n  const uniqueSystems = new Set(data.map(d => d.political_system)).size;\n  const totalPopulation = d3.sum(data, d => d.population);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          elevation: 1,\n          sx: {\n            borderRadius: 2,\n            border: '1px solid #e2e8f0'\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              p: '16px !important'\n            },\n            children: [/*#__PURE__*/_jsxDEV(PublicIcon, {\n              sx: {\n                color: 'primary.main',\n                mr: 2,\n                fontSize: 28\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  fontWeight: 600,\n                  mb: 0.5\n                },\n                children: totalCountries\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Countries\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          elevation: 1,\n          sx: {\n            borderRadius: 2,\n            border: '1px solid #e2e8f0'\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              p: '16px !important'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TrendingUpIcon, {\n              sx: {\n                color: 'success.main',\n                mr: 2,\n                fontSize: 28\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  fontWeight: 600,\n                  mb: 0.5\n                },\n                children: uniqueSystems\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Political Systems\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          elevation: 1,\n          sx: {\n            borderRadius: 2,\n            border: '1px solid #e2e8f0'\n          },\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              p: '16px !important'\n            },\n            children: [/*#__PURE__*/_jsxDEV(PeopleIcon, {\n              sx: {\n                color: 'warning.main',\n                mr: 2,\n                fontSize: 28\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  fontWeight: 600,\n                  mb: 0.5\n                },\n                children: [(totalPopulation / 1e9).toFixed(1), \"B\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: \"Total Population\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterPanel, {\n      searchTerm: searchTerm,\n      setSearchTerm: setSearchTerm,\n      selectedSystem: selectedSystem,\n      setSelectedSystem: setSelectedSystem,\n      politicalSystems: politicalSystems,\n      opacityValue: opacityValue,\n      setOpacityValue: setOpacityValue,\n      minGdpFilter: minGdpFilter,\n      maxGdpFilter: maxGdpFilter,\n      setMinGdpFilter: setMinGdpFilter,\n      setMaxGdpFilter: setMaxGdpFilter,\n      maxGdp: maxGdp,\n      isMobile: isMobile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 2,\n      sx: {\n        position: 'relative',\n        borderRadius: 2,\n        border: '1px solid #e2e8f0',\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        style: {\n          width: '100%',\n          height: 'auto',\n          display: 'block'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: tooltipRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          lineHeight: 1.6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"How to read this visualization:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this), \" Each circle represents a country. Circle size indicates population, position on X-axis shows Economic Freedom Index, Y-axis shows GDP Per Capita, and colors represent different political systems. Hover over any circle for detailed information.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 455,\n    columnNumber: 5\n  }, this);\n};\n_s(CountryVisualization, \"UEM5IXJnHl5drVAzCVuBPrkh2cc=\");\n_c = CountryVisualization;\nexport default CountryVisualization;\nvar _c;\n$RefreshReg$(_c, \"CountryVisualization\");","map":{"version":3,"names":["React","useRef","useEffect","useState","d3","Box","Typography","Paper","Chip","Grid","Card","CardContent","Tooltip","TrendingUp","TrendingUpIcon","People","PeopleIcon","Public","PublicIcon","FilterPanel","jsxDEV","_jsxDEV","CountryVisualization","data","_s","svgRef","tooltipRef","width","setWidth","height","setHeight","isMobile","setIsMobile","selectedSystem","setSelectedSystem","searchTerm","setSearchTerm","opacityValue","setOpacityValue","minGdpFilter","setMinGdpFilter","maxGdpFilter","setMaxGdpFilter","Infinity","politicalSystems","Set","map","d","political_system","accessibleColors","colorScale","scaleOrdinal","domain","filter","range","filteredData","term","toLowerCase","country","includes","gdp_per_capita","max","select","current","selectAll","remove","margin","top","right","bottom","left","innerWidth","innerHeight","svg","attr","defs","append","bgGradient","chartGroup","xScale","scaleLinear","economic_freedom","yScale","radiusScale","scaleSqrt","population","xAxis","axisBottom","tickSize","tickFormat","format","yAxis","axisLeft","call","text","tooltip","style","circles","enter","on","event","target","transition","duration","html","toLocaleString","toFixed","pageY","pageX","delay","i","length","legendGroup","Math","min","uniqueSystems","slice","forEach","system","legendRow","substring","populationLegend","populationSizes","populationLabels","size","cy","statsGroup","avgGdp","mean","avgFreedom","maximumFractionDigits","handleResize","_svgRef$current","container","parentElement","containerWidth","clientWidth","mobile","newWidth","newHeight","window","addEventListener","removeEventListener","maxGdp","ceil","totalCountries","totalPopulation","sum","children","spacing","sx","mb","item","xs","sm","elevation","borderRadius","border","display","alignItems","p","color","mr","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","variant","fontWeight","position","overflow","ref","mt","lineHeight","_c","$RefreshReg$"],"sources":["C:/Users/Hatef/Desktop/Coding/public-directory/country-data/src/components/CountryVisualization.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport * as d3 from 'd3';\nimport { \n  Box, \n  Typography, \n  Paper,\n  Chip,\n  Grid,\n  Card,\n  CardContent,\n  Tooltip\n} from '@mui/material';\nimport { \n  TrendingUp as TrendingUpIcon,\n  People as PeopleIcon,\n  Public as PublicIcon\n} from '@mui/icons-material';\nimport FilterPanel from './FilterPanel';\n\nconst CountryVisualization = ({ data }) => {\n  const svgRef = useRef();\n  const tooltipRef = useRef();\n  const [width, setWidth] = useState(900);\n  const [height, setHeight] = useState(600);\n  const [isMobile, setIsMobile] = useState(false);\n  const [selectedSystem, setSelectedSystem] = useState('All');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [opacityValue, setOpacityValue] = useState(0.7);\n  const [minGdpFilter, setMinGdpFilter] = useState(0);\n  const [maxGdpFilter, setMaxGdpFilter] = useState(Infinity);\n  \n  // Extract unique political systems for filtering\n  const politicalSystems = ['All', ...new Set(data.map(d => d.political_system))];\n  \n  // Enhanced colorblind-friendly color palette with better contrast\n  const accessibleColors = [\n    '#2563eb', // Modern blue\n    '#dc2626', // Modern red\n    '#16a34a', // Modern green\n    '#ca8a04', // Modern yellow/gold\n    '#7c3aed', // Modern purple\n    '#ea580c', // Modern orange\n    '#db2777', // Modern pink\n    '#059669', // Modern teal\n    '#4338ca', // Modern indigo\n    '#be123c', // Modern rose\n    '#0891b2', // Modern cyan\n    '#65a30d', // Modern lime\n    '#c2410c', // Modern amber\n    '#9333ea', // Modern violet\n    '#0d9488'  // Modern emerald\n  ];\n\n  // Color scale for political systems\n  const colorScale = d3.scaleOrdinal()\n    .domain(politicalSystems.filter(d => d !== 'All'))\n    .range(accessibleColors);\n  \n  useEffect(() => {\n    // Filter data based on selected political system and search term\n    let filteredData = data;\n    \n    // Filter by political system\n    if (selectedSystem !== 'All') {\n      filteredData = filteredData.filter(d => d.political_system === selectedSystem);\n    }\n    \n    // Filter by search term\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      filteredData = filteredData.filter(d => d.country.toLowerCase().includes(term));\n    }\n    \n    // Filter by GDP range\n    filteredData = filteredData.filter(d => \n      d.gdp_per_capita >= minGdpFilter && \n      d.gdp_per_capita <= (maxGdpFilter === Infinity ? d3.max(data, d => d.gdp_per_capita) : maxGdpFilter)\n    );\n    \n    // Clear previous visualization\n    d3.select(svgRef.current).selectAll('*').remove();\n    \n    // Create SVG with responsive margins\n    const margin = { top: 40, right: isMobile ? 20 : 180, bottom: 80, left: isMobile ? 60 : 80 };\n    const innerWidth = width - margin.left - margin.right;\n    const innerHeight = height - margin.top - margin.bottom;\n    \n    const svg = d3.select(svgRef.current)\n      .attr('width', width)\n      .attr('height', height);\n    \n    // Add gradient definitions\n    const defs = svg.append('defs');\n    \n    // Create a gradient for the background\n    const bgGradient = defs.append('linearGradient')\n      .attr('id', 'bgGradient')\n      .attr('x1', '0%')\n      .attr('x2', '100%')\n      .attr('y1', '0%')\n      .attr('y2', '100%');\n    \n    bgGradient.append('stop')\n      .attr('offset', '0%')\n      .attr('stop-color', '#f8fafc')\n      .attr('stop-opacity', 0.8);\n    \n    bgGradient.append('stop')\n      .attr('offset', '100%')\n      .attr('stop-color', '#e2e8f0')\n      .attr('stop-opacity', 0.3);\n    \n    // Add background\n    svg.append('rect')\n      .attr('width', width)\n      .attr('height', height)\n      .attr('fill', 'url(#bgGradient)')\n      .attr('rx', 8);\n    \n    // Create main chart group\n    const chartGroup = svg.append('g')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n    \n    // Create scales\n    const xScale = d3.scaleLinear()\n      .domain([0, d3.max(data, d => d.economic_freedom) * 1.05])\n      .range([0, innerWidth]);\n    \n    const yScale = d3.scaleLinear()\n      .domain([0, d3.max(data, d => d.gdp_per_capita) * 1.05])\n      .range([innerHeight, 0]);\n    \n    const radiusScale = d3.scaleSqrt()\n      .domain([0, d3.max(data, d => d.population)])\n      .range([4, isMobile ? 20 : 30]);\n    \n    // Create enhanced axes\n    const xAxis = d3.axisBottom(xScale)\n      .tickSize(-innerHeight)\n      .tickFormat(d3.format('.1f'));\n    \n    const yAxis = d3.axisLeft(yScale)\n      .tickSize(-innerWidth)\n      .tickFormat(d => `$${d3.format('.0s')(d)}`);\n    \n    // Add grid lines and axes\n    chartGroup.append('g')\n      .attr('class', 'x-axis')\n      .attr('transform', `translate(0, ${innerHeight})`)\n      .call(xAxis)\n      .selectAll('line')\n      .attr('stroke', '#e2e8f0')\n      .attr('stroke-width', 1);\n    \n    chartGroup.append('g')\n      .attr('class', 'y-axis')\n      .call(yAxis)\n      .selectAll('line')\n      .attr('stroke', '#e2e8f0')\n      .attr('stroke-width', 1);\n    \n    // Style axis text\n    svg.selectAll('.x-axis text, .y-axis text')\n      .attr('fill', '#64748b')\n      .attr('font-size', '12px');\n    \n    svg.selectAll('.x-axis path, .y-axis path')\n      .attr('stroke', '#cbd5e1')\n      .attr('stroke-width', 2);\n    \n    // Add enhanced axis labels\n    chartGroup.append('text')\n      .attr('x', innerWidth / 2)\n      .attr('y', innerHeight + 50)\n      .attr('text-anchor', 'middle')\n      .attr('font-size', '14px')\n      .attr('font-weight', '600')\n      .attr('fill', '#374151')\n      .text('Economic Freedom Index');\n    \n    chartGroup.append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('x', -innerHeight / 2)\n      .attr('y', -50)\n      .attr('text-anchor', 'middle')\n      .attr('font-size', '14px')\n      .attr('font-weight', '600')\n      .attr('fill', '#374151')\n      .text('GDP Per Capita (USD)');\n    \n    // Enhanced tooltip\n    const tooltip = d3.select(tooltipRef.current)\n      .style('position', 'absolute')\n      .style('visibility', 'hidden')\n      .style('background-color', 'rgba(255, 255, 255, 0.98)')\n      .style('border', 'none')\n      .style('padding', '16px')\n      .style('border-radius', '12px')\n      .style('box-shadow', '0 10px 25px rgba(0, 0, 0, 0.15)')\n      .style('font-family', 'Inter, sans-serif')\n      .style('font-size', '13px')\n      .style('max-width', '250px')\n      .style('backdrop-filter', 'blur(10px)')\n      .style('pointer-events', 'none')\n      .style('z-index', '1000');\n    \n    // Add circles for each country with enhanced styling\n    const circles = chartGroup.selectAll('circle')\n      .data(filteredData)\n      .enter()\n      .append('circle')\n      .attr('cx', d => xScale(d.economic_freedom))\n      .attr('cy', d => yScale(d.gdp_per_capita))\n      .attr('r', 0) // Start with 0 for animation\n      .attr('fill', d => colorScale(d.political_system))\n      .attr('opacity', opacityValue)\n      .attr('stroke', '#ffffff')\n      .attr('stroke-width', 2)\n      .style('cursor', 'pointer')\n      .style('filter', 'drop-shadow(0 2px 4px rgba(0,0,0,0.1))')\n      .on('mouseover', (event, d) => {\n        // Highlight the hovered circle\n        d3.select(event.target)\n          .transition()\n          .duration(200)\n          .attr('stroke-width', 3)\n          .attr('opacity', 1)\n          .style('filter', 'drop-shadow(0 4px 8px rgba(0,0,0,0.2))');\n        \n        tooltip\n          .style('visibility', 'visible')\n          .html(`\n            <div style=\"border-bottom: 2px solid ${colorScale(d.political_system)}; padding-bottom: 8px; margin-bottom: 8px;\">\n              <strong style=\"font-size: 15px; color: #1f2937;\">${d.country}</strong>\n            </div>\n            <div style=\"display: grid; gap: 6px;\">\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"color: #6b7280;\">GDP per capita:</span>\n                <strong style=\"color: #059669;\">$${d.gdp_per_capita.toLocaleString()}</strong>\n              </div>\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"color: #6b7280;\">Population:</span>\n                <strong style=\"color: #2563eb;\">${d.population.toLocaleString()}</strong>\n              </div>\n              <div style=\"display: flex; justify-content: space-between;\">\n                <span style=\"color: #6b7280;\">Economic Freedom:</span>\n                <strong style=\"color: #dc2626;\">${d.economic_freedom.toFixed(1)}</strong>\n              </div>\n              <div style=\"margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;\">\n                <span style=\"color: #6b7280;\">Political System:</span><br>\n                <strong style=\"color: ${colorScale(d.political_system)};\">${d.political_system}</strong>\n              </div>\n            </div>\n          `);\n      })\n      .on('mousemove', (event) => {\n        tooltip\n          .style('top', (event.pageY - 10) + 'px')\n          .style('left', (event.pageX + 15) + 'px');\n      })\n      .on('mouseout', (event) => {\n        d3.select(event.target)\n          .transition()\n          .duration(200)\n          .attr('stroke-width', 2)\n          .attr('opacity', opacityValue)\n          .style('filter', 'drop-shadow(0 2px 4px rgba(0,0,0,0.1))');\n          \n        tooltip.style('visibility', 'hidden');\n      });\n    \n    // Animate circles\n    circles\n      .transition()\n      .duration(800)\n      .delay((d, i) => i * 5)\n      .attr('r', d => radiusScale(d.population));\n    \n    // Add country labels for small datasets or search results\n    if (searchTerm || filteredData.length < 15) {\n      chartGroup.selectAll('text.country-label')\n        .data(filteredData)\n        .enter()\n        .append('text')\n        .attr('class', 'country-label')\n        .attr('x', d => xScale(d.economic_freedom))\n        .attr('y', d => yScale(d.gdp_per_capita) - radiusScale(d.population) - 8)\n        .attr('text-anchor', 'middle')\n        .attr('font-size', '11px')\n        .attr('font-weight', '500')\n        .attr('fill', '#374151')\n        .style('pointer-events', 'none')\n        .text(d => d.country)\n        .style('opacity', 0)\n        .transition()\n        .duration(1000)\n        .delay(500)\n        .style('opacity', 0.8);\n    }\n    \n    // Enhanced legends positioning\n    if (!isMobile) {\n      // Political Systems Legend\n      const legendGroup = svg.append('g')\n        .attr('transform', `translate(${width - 160}, 60)`);\n      \n      legendGroup.append('rect')\n        .attr('x', -10)\n        .attr('y', -20)\n        .attr('width', 150)\n        .attr('height', Math.min(politicalSystems.length * 25 + 40, 300))\n        .attr('fill', 'rgba(255, 255, 255, 0.95)')\n        .attr('stroke', '#e2e8f0')\n        .attr('stroke-width', 1)\n        .attr('rx', 8)\n        .style('filter', 'drop-shadow(0 2px 8px rgba(0,0,0,0.1))');\n      \n      legendGroup.append('text')\n        .attr('x', 0)\n        .attr('y', -5)\n        .attr('font-weight', '600')\n        .attr('font-size', '13px')\n        .attr('fill', '#374151')\n        .text('Political Systems');\n      \n      const uniqueSystems = [...new Set(data.map(d => d.political_system))].slice(0, 10);\n      \n      uniqueSystems.forEach((system, i) => {\n        const legendRow = legendGroup.append('g')\n          .attr('transform', `translate(0, ${i * 25 + 15})`);\n        \n        legendRow.append('circle')\n          .attr('cx', 8)\n          .attr('cy', 0)\n          .attr('r', 8)\n          .attr('fill', colorScale(system))\n          .attr('stroke', '#ffffff')\n          .attr('stroke-width', 1.5);\n        \n        legendRow.append('text')\n          .attr('x', 22)\n          .attr('y', 4)\n          .attr('text-anchor', 'start')\n          .style('font-size', '11px')\n          .attr('fill', '#4b5563')\n          .text(system.length > 18 ? system.substring(0, 15) + '...' : system);\n      });\n      \n      // Population Scale Legend\n      const populationLegend = svg.append('g')\n        .attr('transform', `translate(80, ${height - 120})`);\n      \n      populationLegend.append('rect')\n        .attr('x', -15)\n        .attr('y', -25)\n        .attr('width', 130)\n        .attr('height', 110)\n        .attr('fill', 'rgba(255, 255, 255, 0.95)')\n        .attr('stroke', '#e2e8f0')\n        .attr('stroke-width', 1)\n        .attr('rx', 8)\n        .style('filter', 'drop-shadow(0 2px 8px rgba(0,0,0,0.1))');\n      \n      populationLegend.append('text')\n        .attr('x', 0)\n        .attr('y', -10)\n        .attr('font-weight', '600')\n        .attr('font-size', '13px')\n        .attr('fill', '#374151')\n        .text('Population Scale');\n      \n      const populationSizes = [1000000, 50000000, 500000000];\n      const populationLabels = ['1M', '50M', '500M'];\n      \n      populationSizes.forEach((size, i) => {\n        const cy = i * 25 + 10;\n        \n        populationLegend.append('circle')\n          .attr('cx', 15)\n          .attr('cy', cy)\n          .attr('r', radiusScale(size))\n          .attr('fill', 'none')\n          .attr('stroke', '#6b7280')\n          .attr('stroke-width', 1.5);\n        \n        populationLegend.append('text')\n          .attr('x', 35)\n          .attr('y', cy + 4)\n          .attr('text-anchor', 'start')\n          .style('font-size', '11px')\n          .attr('fill', '#4b5563')\n          .text(populationLabels[i]);\n      });\n    }\n    \n    // Add count and statistics\n    const statsGroup = svg.append('g')\n      .attr('transform', `translate(${margin.left}, ${height - 30})`);\n    \n    statsGroup.append('text')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('font-size', '12px')\n      .attr('font-weight', '500')\n      .attr('fill', '#6b7280')\n      .text(`Showing ${filteredData.length} of ${data.length} countries`);\n    \n    if (filteredData.length > 0) {\n      const avgGdp = d3.mean(filteredData, d => d.gdp_per_capita);\n      const avgFreedom = d3.mean(filteredData, d => d.economic_freedom);\n      \n      statsGroup.append('text')\n        .attr('x', 200)\n        .attr('y', 0)\n        .attr('font-size', '12px')\n        .attr('fill', '#6b7280')\n        .text(`Avg GDP: $${avgGdp.toLocaleString('en-US', { maximumFractionDigits: 0 })} | Avg Freedom: ${avgFreedom.toFixed(1)}`);\n    }\n    \n  }, [data, width, height, selectedSystem, searchTerm, opacityValue, minGdpFilter, maxGdpFilter, colorScale, isMobile]);\n  \n  // Handle window resize and mobile detection\n  useEffect(() => {\n    const handleResize = () => {\n      const container = svgRef.current?.parentElement;\n      if (container) {\n        const containerWidth = container.clientWidth;\n        const mobile = containerWidth < 768;\n        setIsMobile(mobile);\n        \n        // Responsive dimensions\n        const newWidth = Math.min(containerWidth, 1200);\n        const newHeight = mobile ? newWidth * 0.75 : Math.max(newWidth * 0.6, 500);\n        \n        setWidth(newWidth);\n        setHeight(newHeight);\n      }\n    };\n    \n    handleResize();\n    window.addEventListener('resize', handleResize);\n    \n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  \n  // Calculate statistics\n  const maxGdp = Math.ceil(d3.max(data, d => d.gdp_per_capita) / 10000) * 10000;\n  const totalCountries = data.length;\n  const uniqueSystems = new Set(data.map(d => d.political_system)).size;\n  const totalPopulation = d3.sum(data, d => d.population);\n  \n  return (\n    <Box>\n      {/* Statistics Cards */}\n      <Grid container spacing={2} sx={{ mb: 3 }}>\n        <Grid item xs={12} sm={4}>\n          <Card elevation={1} sx={{ borderRadius: 2, border: '1px solid #e2e8f0' }}>\n            <CardContent sx={{ display: 'flex', alignItems: 'center', p: '16px !important' }}>\n              <PublicIcon sx={{ color: 'primary.main', mr: 2, fontSize: 28 }} />\n              <Box>\n                <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 0.5 }}>\n                  {totalCountries}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Countries\n                </Typography>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={4}>\n          <Card elevation={1} sx={{ borderRadius: 2, border: '1px solid #e2e8f0' }}>\n            <CardContent sx={{ display: 'flex', alignItems: 'center', p: '16px !important' }}>\n              <TrendingUpIcon sx={{ color: 'success.main', mr: 2, fontSize: 28 }} />\n              <Box>\n                <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 0.5 }}>\n                  {uniqueSystems}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Political Systems\n                </Typography>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={12} sm={4}>\n          <Card elevation={1} sx={{ borderRadius: 2, border: '1px solid #e2e8f0' }}>\n            <CardContent sx={{ display: 'flex', alignItems: 'center', p: '16px !important' }}>\n              <PeopleIcon sx={{ color: 'warning.main', mr: 2, fontSize: 28 }} />\n              <Box>\n                <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 0.5 }}>\n                  {(totalPopulation / 1e9).toFixed(1)}B\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Total Population\n                </Typography>\n              </Box>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n      <FilterPanel\n        searchTerm={searchTerm}\n        setSearchTerm={setSearchTerm}\n        selectedSystem={selectedSystem}\n        setSelectedSystem={setSelectedSystem}\n        politicalSystems={politicalSystems}\n        opacityValue={opacityValue}\n        setOpacityValue={setOpacityValue}\n        minGdpFilter={minGdpFilter}\n        maxGdpFilter={maxGdpFilter}\n        setMinGdpFilter={setMinGdpFilter}\n        setMaxGdpFilter={setMaxGdpFilter}\n        maxGdp={maxGdp}\n        isMobile={isMobile}\n      />\n      \n      <Paper \n        elevation={2} \n        sx={{ \n          position: 'relative', \n          borderRadius: 2,\n          border: '1px solid #e2e8f0',\n          overflow: 'hidden'\n        }}\n      >\n        <svg ref={svgRef} style={{ width: '100%', height: 'auto', display: 'block' }}></svg>\n        <div ref={tooltipRef}></div>\n      </Paper>\n      \n      <Box sx={{ mt: 3 }}>\n        <Typography variant=\"body2\" color=\"text.secondary\" sx={{ lineHeight: 1.6 }}>\n          <strong>How to read this visualization:</strong> Each circle represents a country. \n          Circle size indicates population, position on X-axis shows Economic Freedom Index, \n          Y-axis shows GDP Per Capita, and colors represent different political systems. \n          Hover over any circle for detailed information.\n        </Typography>\n      </Box>\n    </Box>\n  );\n};\n\nexport default CountryVisualization;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}