<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=yes" />
  <meta name="description" content="Interactive country data visualization and analysis dashboard exploring relationships between GDP per capita, population, economic freedom, and political systems across 194 countries worldwide. Discover key insights about global economic patterns and governance effectiveness." />
  <meta name="keywords" content="country data, GDP, economic freedom, population, data visualization, interactive dashboard, world statistics, political systems, economic analysis, global patterns, governance effectiveness, prosperity correlation" />
  <meta name="author" content="Country Data Visualization" />
  <meta name="theme-color" content="#1976d2" />
  <meta name="msapplication-TileColor" content="#1976d2" />
  
  <!-- Open Graph Meta Tags for social sharing -->
  <meta property="og:title" content="Interactive Country Data Visualization Dashboard" />
  <meta property="og:description" content="Explore relationships between GDP, population, economic freedom, and political systems across countries worldwide." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="." />
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Interactive Country Data Visualization" />
  <meta name="twitter:description" content="Explore global economic and political data through interactive visualizations." />
  
  <!-- PWA and Mobile Optimization -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Country Data" />
  
  <title>Country Data Analysis & Visualization | Interactive Global Economic Dashboard</title>
  
  <!-- Preload critical resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
  <!-- Font loading with fallback -->
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </noscript>
  
  <!-- Preload critical data -->
  <link rel="preload" href="../data/final_country_data.csv" as="fetch" crossorigin>
  
  <style>
    /* Critical CSS - Above the fold */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      font-size: 16px;
      scroll-behavior: smooth;
      -webkit-text-size-adjust: 100%;
      -ms-text-size-adjust: 100%;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      background-attachment: fixed;
      min-height: 100vh;
      min-height: 100svh; /* Modern viewport units */
      color: #2c3e50;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    #root {
      min-height: 100vh;
      min-height: 100svh;
      position: relative;
      isolation: isolate;
    }
    
    /* Loading backdrop with better accessibility */
    .loading-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: white;
    }
    
    /* Improved loading animation */
    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 4px solid rgba(255, 255, 255, 0.2);
      border-top: 4px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 1rem;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Enhanced smooth transitions with reduced motion support */
    @media (prefers-reduced-motion: no-preference) {
      * {
        transition: all 0.2s ease-in-out;
      }
    }
    
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
    
    /* Modern custom scrollbar with better mobile support */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(241, 241, 241, 0.1);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(136, 136, 136, 0.6);
      border-radius: 4px;
      transition: background 0.2s ease;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: rgba(85, 85, 85, 0.8);
    }
    
    /* Mobile-first responsive improvements */
    @media (max-width: 768px) {
      html {
        font-size: 14px;
      }
      
      body {
        background-attachment: scroll; /* Better mobile performance */
      }
    }
    
    /* High contrast mode support */
    @media (prefers-contrast: high) {
      body {
        background: #000000;
        color: #ffffff;
      }
    }
    
    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
      body {
        background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
      }
    }
    
    /* Focus indicators for accessibility */
    *:focus-visible {
      outline: 2px solid #1976d2;
      outline-offset: 2px;
      border-radius: 4px;
    }
    
    /* NoScript styles */
    .noscript-message {
      text-align: center;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.95);
      margin: 1rem;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      margin-top: 2rem;
    }
    
    .noscript-message h2 {
      color: #e74c3c;
      margin-bottom: 1rem;
      font-size: 1.5rem;
    }
    
    .noscript-message p {
      color: #2c3e50;
      margin-bottom: 1rem;
      line-height: 1.6;
    }
    
    .noscript-message ul {
      text-align: left;
      color: #2c3e50;
      max-width: 400px;
      margin: 0 auto;
    }
    
    .noscript-message li {
      margin-bottom: 0.5rem;
    }
  </style>
  
  <!-- Structured Data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Country Data Visualization",
    "description": "Interactive dashboard for exploring global economic and political data",
    "url": ".",
    "applicationCategory": "DataVisualization",
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript"
  }
  </script>
</head>
<body>
  <noscript>
    <div class="noscript-message">
      <h2>üìä Interactive Dashboard Requires JavaScript</h2>
      <p><strong>This country data visualization requires JavaScript to function.</strong></p>
      <p>To experience the full interactive dashboard with:</p>
      <ul>
        <li>üìà Interactive scatter plots and charts</li>
        <li>üîç Real-time filtering and search</li>
        <li>üì± Mobile-responsive visualizations</li>
        <li>üéØ Detailed country information</li>
      </ul>
      <p><strong>Please enable JavaScript in your browser settings and refresh this page.</strong></p>
      <p><small>Don't know how? Search "enable JavaScript [your browser name]" for instructions.</small></p>
    </div>
  </noscript>
  
  <!-- Main application container -->
  <div id="root" role="main" aria-live="polite"></div>
  
  <!-- Service Worker Registration (commented out - uncomment if implementing PWA) -->
  <!--
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js');
      });
    }
  </script>
  -->
</body>
</html>
